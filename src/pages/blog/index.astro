---
import { getCollection } from "astro:content";

import { SITE_TITLE, SITE_DESCRIPTION } from "consts";
import Page from "@layouts/Page.astro";
import RectPattern from "@components/RectPattern.astro";
import BlogPost from "@components/blog/BlogPost.astro";
import SectionTitle from "@components/SectionTitle.astro";

const posts = (await getCollection("blog")).sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
---

<Page metaTitle={"Blog - " + SITE_TITLE} metaDescription={SITE_DESCRIPTION} transition:animate="slide">
  <SectionTitle>Let's Learn Together!</SectionTitle>
  <div class="mt-6 grid gap-2 sm:grid-cols-2 sm:gap-y-8" id="blog">
    {posts.map((post) => <BlogPost post={post} />)}
  </div>
</Page>
